import os
import mne
from cargar_datos_raw import diccionario_datos_procesados_por_tipo

ruta_base = "C:/Users/Eloy.GarciaPerez/OneDrive - Universidad de Castilla-La Mancha/Tesis_EEG/proyecto_eeg/EEG_crop"
archivos = diccionario_datos_procesados_por_tipo(ruta_base, "basal")

def preprocesado_erps(ruta_fif):
    """
    Preprocesado para análisis ERP:
    - Filtrado suave (0.1 - 30 Hz)
    - Re-referenciación promedio
    - (NO epoching aún, se guarda como Raw)
    """
    raw = mne.io.read_raw_fif(ruta_fif, preload=True)
    raw.filter(0.1, 30.0, fir_design='firwin')
    raw.set_eeg_reference('average', projection=False)
    return raw

def preprocesado_bandas(ruta_fif):
    """
    Preprocesado para análisis de bandas de frecuencia:
    - Filtrado amplio (1 - 40 Hz)
    - Re-referenciación promedio
    """
    raw = mne.io.read_raw_fif(ruta_fif, preload=True)
    raw.filter(1.0, 40.0, fir_design='firwin')
    raw.set_eeg_reference('average', projection=False)
    return raw



def preprocesado_conectividad(ruta_fif):
    """
    Preprocesado para análisis de conectividad:
    - Filtrado amplio (1 - 40 Hz)
    - Re-referenciación promedio
    - Eliminación de proyecciones si las hay
    """
    raw = mne.io.read_raw_fif(ruta_fif, preload=True)
    raw.filter(1.0, 40.0, fir_design='firwin')



    return raw

